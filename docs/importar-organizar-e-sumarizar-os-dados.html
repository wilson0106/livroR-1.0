<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 2 Importar, organizar e sumarizar os dados | Introdução à análise de dados em R: Uma abordagem ambiental</title>
  <meta name="description" content="Este é o primeiro livro da série de livros: Análise de dados em R" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 2 Importar, organizar e sumarizar os dados | Introdução à análise de dados em R: Uma abordagem ambiental" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este é o primeiro livro da série de livros: Análise de dados em R" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 2 Importar, organizar e sumarizar os dados | Introdução à análise de dados em R: Uma abordagem ambiental" />
  
  <meta name="twitter:description" content="Este é o primeiro livro da série de livros: Análise de dados em R" />
  

<meta name="author" content="Wilson Souza &amp; Thiago Couto" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r.html"/>
<link rel="next" href="qui-quadrado-chi.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introdução à Análise de Dados em R: Uma Abordagem Ambiental</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefácio</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#estrutura-do-livro"><i class="fa fa-check"></i>Estrutura do livro</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#agradecimentos"><i class="fa fa-check"></i>Agradecimentos</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="sobre-os-autores.html"><a href="sobre-os-autores.html"><i class="fa fa-check"></i>Sobre os autores</a></li>
<li class="chapter" data-level="1" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>1</b> R</a><ul>
<li class="chapter" data-level="1.1" data-path="r.html"><a href="r.html#o-que-é"><i class="fa fa-check"></i><b>1.1</b> O que é?</a></li>
<li class="chapter" data-level="1.2" data-path="r.html"><a href="r.html#porque-usar-o-r-para-análise-de-dados"><i class="fa fa-check"></i><b>1.2</b> Porque usar o R para análise de dados?</a></li>
<li class="chapter" data-level="1.3" data-path="r.html"><a href="r.html#o-rstudio"><i class="fa fa-check"></i><b>1.3</b> O RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="r.html"><a href="r.html#exercícios"><i class="fa fa-check"></i><b>1.4</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html"><i class="fa fa-check"></i><b>2</b> Importar, organizar e sumarizar os dados</a><ul>
<li class="chapter" data-level="2.1" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#passo-definir-o-ambiente-de-trabalho-e-importar-a-planilha-de-dados-para-o-r"><i class="fa fa-check"></i><b>2.1</b> 1° passo: Definir o ambiente de trabalho e importar a planilha de dados para o R</a><ul>
<li class="chapter" data-level="2.1.1" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#definindo-ambiente-de-trabalho-via-linha-de-comando"><i class="fa fa-check"></i><b>2.1.1</b> Definindo ambiente de trabalho via linha de comando</a></li>
<li class="chapter" data-level="2.1.2" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#definindo-ambiente-de-trabalho-via-interface-gráfica"><i class="fa fa-check"></i><b>2.1.2</b> Definindo ambiente de trabalho via interface gráfica</a></li>
<li class="chapter" data-level="2.1.3" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#importando-planilha-via-linha-de-comando"><i class="fa fa-check"></i><b>2.1.3</b> Importando planilha via linha de comando:</a></li>
<li class="chapter" data-level="2.1.4" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#importando-planilha-via-interface-gráfica"><i class="fa fa-check"></i><b>2.1.4</b> Importando planilha via interface gráfica:</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#passo-verificar-e-ajustar-os-dados"><i class="fa fa-check"></i><b>2.2</b> 2° passo: Verificar e ajustar os dados</a></li>
<li class="chapter" data-level="2.3" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#passo-sumarizar-os-dados-graficamente"><i class="fa fa-check"></i><b>2.3</b> 3° passo: Sumarizar os dados graficamente</a><ul>
<li class="chapter" data-level="2.3.1" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#histograma"><i class="fa fa-check"></i><b>2.3.1</b> Histograma</a></li>
<li class="chapter" data-level="2.3.2" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#gráfico-de-barras"><i class="fa fa-check"></i><b>2.3.2</b> Gráfico de Barras</a></li>
<li class="chapter" data-level="2.3.3" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#gráfico-de-pontos-e-de-linhas"><i class="fa fa-check"></i><b>2.3.3</b> Gráfico de Pontos e de Linhas</a></li>
<li class="chapter" data-level="2.3.4" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#boxplot"><i class="fa fa-check"></i><b>2.3.4</b> Boxplot</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#passo-sumarizar-os-dados-numericamente"><i class="fa fa-check"></i><b>2.4</b> 4° passo: Sumarizar os dados numericamente</a></li>
<li class="chapter" data-level="2.5" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#considerações"><i class="fa fa-check"></i><b>2.5</b> Considerações</a></li>
<li class="chapter" data-level="2.6" data-path="importar-organizar-e-sumarizar-os-dados.html"><a href="importar-organizar-e-sumarizar-os-dados.html#exercícios-1"><i class="fa fa-check"></i><b>2.6</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="qui-quadrado-chi.html"><a href="qui-quadrado-chi.html"><i class="fa fa-check"></i><b>3</b> Qui-quadrado (<span class="math inline">\(\chi\)</span>²)</a><ul>
<li class="chapter" data-level="3.1" data-path="qui-quadrado-chi.html"><a href="qui-quadrado-chi.html#chi-para-ajuste-de-frequências"><i class="fa fa-check"></i><b>3.1</b> <span class="math inline">\(\chi\)</span>² para ajuste de frequências</a></li>
<li class="chapter" data-level="3.2" data-path="qui-quadrado-chi.html"><a href="qui-quadrado-chi.html#chi-para-independência"><i class="fa fa-check"></i><b>3.2</b> <span class="math inline">\(\chi\)</span>² para independência</a></li>
<li class="chapter" data-level="3.3" data-path="qui-quadrado-chi.html"><a href="qui-quadrado-chi.html#considerações-1"><i class="fa fa-check"></i><b>3.3</b> Considerações</a></li>
<li class="chapter" data-level="3.4" data-path="qui-quadrado-chi.html"><a href="qui-quadrado-chi.html#exercícios-2"><i class="fa fa-check"></i><b>3.4</b> Exercícios</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="teste-t.html"><a href="teste-t.html"><i class="fa fa-check"></i><b>4</b> Teste-t</a><ul>
<li class="chapter" data-level="4.1" data-path="teste-t.html"><a href="teste-t.html#teste-t-para-uma-amostra"><i class="fa fa-check"></i><b>4.1</b> Teste-t para uma amostra</a></li>
<li class="chapter" data-level="4.2" data-path="teste-t.html"><a href="teste-t.html#teste-t-para-duas-amostras"><i class="fa fa-check"></i><b>4.2</b> Teste-t para duas amostras</a></li>
<li class="chapter" data-level="4.3" data-path="teste-t.html"><a href="teste-t.html#teste-t-pareado"><i class="fa fa-check"></i><b>4.3</b> Teste-t pareado</a></li>
<li class="chapter" data-level="4.4" data-path="teste-t.html"><a href="teste-t.html#considerações-2"><i class="fa fa-check"></i><b>4.4</b> Considerações</a></li>
<li class="chapter" data-level="4.5" data-path="teste-t.html"><a href="teste-t.html#exercícios-3"><i class="fa fa-check"></i><b>4.5</b> Exercícios</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="resolução-dos-exercícios.html"><a href="resolução-dos-exercícios.html"><i class="fa fa-check"></i><b>A</b> Resolução dos Exercícios</a><ul>
<li class="chapter" data-level="A.1" data-path="resolução-dos-exercícios.html"><a href="resolução-dos-exercícios.html#capítulo-1"><i class="fa fa-check"></i><b>A.1</b> Capítulo 1</a></li>
<li class="chapter" data-level="A.2" data-path="resolução-dos-exercícios.html"><a href="resolução-dos-exercícios.html#capítulo-2"><i class="fa fa-check"></i><b>A.2</b> Capítulo 2</a></li>
<li class="chapter" data-level="A.3" data-path="resolução-dos-exercícios.html"><a href="resolução-dos-exercícios.html#capítulo-3"><i class="fa fa-check"></i><b>A.3</b> Capítulo 3</a></li>
<li class="chapter" data-level="A.4" data-path="resolução-dos-exercícios.html"><a href="resolução-dos-exercícios.html#capítulo-4"><i class="fa fa-check"></i><b>A.4</b> Capítulo 4</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introdução à análise de dados em R: Uma abordagem ambiental</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importar-organizar-e-sumarizar-os-dados" class="section level1">
<h1><span class="header-section-number">Capítulo 2</span> Importar, organizar e sumarizar os dados</h1>
<div id="passo-definir-o-ambiente-de-trabalho-e-importar-a-planilha-de-dados-para-o-r" class="section level2">
<h2><span class="header-section-number">2.1</span> 1° passo: Definir o ambiente de trabalho e importar a planilha de dados para o R</h2>
<p>Ao se trabalhar com R a primeira pergunta que nos vem à cabeça é: Como inserir meus dados neste ambiente de trabalho? A resposta é simples e também complexa, pois depende do formato do arquivo de dados que está usando ( *.csv, *.xls, *.xlsx, *.txt entre outros). Para um mesmo formato existem inúmeras comandos possíveis para importar os dados. Não iremos especificar todas os comandos, mas os mais comuns (*.csv e *.xlsx), utilizando os comandos básicos do R e também por meio da interface gráfica do RStudio.</p>
<p>Para importar a planilha é necessário definir o ambiente de trabalho no seu computador. Este ambiente é a pasta de seu computador onde sua planilha e seus demais dados a serem trabalhados se encontram. Podemos realizar isso via linhas de comando ou pela própria interface do RStudio. Se realizado por linhas de comandos há diferença entre o sistema operacional (Windows, Linux ou macOS) que estiver utilizando. Aqui estaremos trabalhando com o sistema operacional Windows.</p>
<div id="definindo-ambiente-de-trabalho-via-linha-de-comando" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Definindo ambiente de trabalho via linha de comando</h3>
<p>Para o sistema operacional Windows utilizamos o seguinte comando: <span style="color: blue;">setwd(choose.dir(path))</span>, onde <span style="color: blue;">path</span> é o caminho do diretório escolhido.</p>
<p>Se no Windows utilizarmos apenas a linha de comando <span style="color: blue;">setwd(choose.dir())</span> sem especificar o caminho a seguinte janela irá aparecer (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:setwd">2.1</a>), a partir da qual iremos selecionar a pasta onde estão os arquivos que iremos trabalhar e salvar nosso <em>script</em>.</p>
<div class="figure" style="text-align: center"><span id="fig:setwd"></span>
<img src="figures%20print/setwd.png" alt="Janela que será aberta ao executar o comando: setwd(choose.dir()), no sistema operacional Windows." width="40%" />
<p class="caption">
Figura 2.1: Janela que será aberta ao executar o comando: setwd(choose.dir()), no sistema operacional Windows.
</p>
</div>
<p>A função <span style="color: blue;">setwd()</span> é responsável por selecionar o diretório a ser trabalhado. Após isso podemos importar a planilha com os dados que utilizaremos.</p>
<p>Como resultado desta etapa podemos verificar a guia <em>Files</em><a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a>, nela agora situa-se as pastas e arquivos da pasta que selecionamos e onde estará salvo nosso script quando o salvarmos.</p>
</div>
<div id="definindo-ambiente-de-trabalho-via-interface-gráfica" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Definindo ambiente de trabalho via interface gráfica</h3>
<p>Diversas formas podem ser utilizadas para definir o ambiente de trabalho, apresentaremos 3. A primeira consiste em usar o atalho do teclado <span class="math inline">\((CTRL + SHIFT + H)\)</span> e nela selecionaremos o ambiente de trabalho; a segunda via consiste em acessar a guia <em>Session</em> ir até a opção <em>Set Working Directory</em> e selecionar a opção <em>Choose Directory</em> da mesma forma que a opção anterior a mesma janela irá aparecer; por último podemos usar a guia <em>Files</em> onde podemos clicar nos 3 pontos “…” que aparecem no canto superior direito da guia e buscar o ambiente/pasta que iremos utilizar e a seguir na engrenagem (<em>More</em>) e selecionar a opção <em>Set as Working Directory</em> (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:files-guia">2.2</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:files-guia"></span>
<img src="figures%20print/files-guia.png" alt="Guia *Files* indicando a opção para definir o local do computadors que será utilizado como ambiente de trabalho" width="50%" />
<p class="caption">
Figura 2.2: Guia <em>Files</em> indicando a opção para definir o local do computadors que será utilizado como ambiente de trabalho
</p>
</div>
</div>
<div id="importando-planilha-via-linha-de-comando" class="section level3">
<h3><span class="header-section-number">2.1.3</span> Importando planilha via linha de comando:</h3>
<p>Primeiro construa as planilhas a seguir nos formatos *.csv (usando vírgula como separador de colunas e ponto como separador decimal) (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:planilha">2.3</a>) e *.xlsx (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:planilhaxlsx">2.4</a>) em um editor de planilhas, como excel, libreoffice calc ou outros e a salve com o nome de planilha.csv e planilha.xlsx no diretório que definiu previamente. A seguir demonstraremos as diferenças na importação de ambas as planilhas.</p>
<div class="figure" style="text-align: center"><span id="fig:planilha"></span>
<img src="figures%20print/planilha.png" alt="Planilha com os dados no formato *.csv que deve ser construída em algum editor de planilhas e salva na pasta de trabalho definida previamente" width="40%" />
<p class="caption">
Figura 2.3: Planilha com os dados no formato *.csv que deve ser construída em algum editor de planilhas e salva na pasta de trabalho definida previamente
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:planilhaxlsx"></span>
<img src="figures%20print/planilhaxlsx.png" alt="Planilha com os dados no formato *.xlsx que deve ser construída em algum editor de planilhas e salva na pasta de trabalho definida previamente" width="50%" />
<p class="caption">
Figura 2.4: Planilha com os dados no formato *.xlsx que deve ser construída em algum editor de planilhas e salva na pasta de trabalho definida previamente
</p>
</div>
<p>Digite em seu script a seguinte linha de comando:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">dados &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file =</span> <span class="st">&quot;planilha.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>)</a></code></pre></div>
<p><span style="color: red;">OBS: Não se esqueça de definir previamente o ambiente de trabalho e verificar que o arquivo planilha.csv encontra-se presente nele.</span></p>
<p>O comando <span style="color: blue;">read.csv()</span> importou a planilha que está no formato *.csv utilizando os argumentos “<em>file</em>” o qual indica o nome do arquivo a ser importado; “<em>header</em>” o qual indica se as colunas da planilha tem nome e “sep” o qual indica qual o caracter separador das colunas.</p>
<p><span style="color: red;">OBS: repare que há o operador</span> “<strong>&lt;-</strong>” <span style="color: red;">, esse é o operador de atribuição, ele indica que o elemento a sua direita (seja um valor ou uma função) será atribuído ao elemento que está a sua esquerda (geralmente um novo objeto). Neste caso o elemento retornado pela função </span> read.csv(file = “planilha.csv”, header = TRUE, sep = “,”) <span style="color: red;"> será atribuído a um objeto chamado <strong>dados</strong>.</span></p>
<p>O comando acima importou a planilha e o guardou em um objeto chamado dados que será o que nós utilizaremos de agora em diante sempre que quisermos acessar essa planilha no RStudio.</p>
<p>Para importar arquivos que estão no formato *.xls ou *.xlsx é necessário a instalação de algum pacote<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a> que permita a realização desse processo. Um pacote que instalaremos aqui é o <span style="color: brown;">readxl</span>.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;readxl&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">library</span>(readxl)</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">dados &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="dt">path =</span> <span class="st">&quot;planilha.xlsx&quot;</span>, <span class="dt">col_names =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>Os comandos <span style="color: blue;">read.csv()</span> e <span style="color: blue;">read_excel()</span> são similares, embora seus argumentos sejam diferentes. O argumento “<em>path</em>” é similar ao “<em>file</em>”, o argumento “<em>col_names</em>” é similar ao “<em>header</em>”. Repare que não temos o argumento “sep”, pois em um arquivo excel as variáveis são salvas em colunas. Observe que independente da forma de importação (que é dependente do formato do arquivo *.csv ou *.xlsx) o resultado final é o mesmo (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:arqenv">2.5</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:arqenv"></span>
<img src="figures%20print/arqenv.png" alt="Resultado da importação do arquivo observado na guia environment. Há um objeto de nome dados, com 40 observações e 4 variáveis." width="80%" />
<p class="caption">
Figura 2.5: Resultado da importação do arquivo observado na guia environment. Há um objeto de nome dados, com 40 observações e 4 variáveis.
</p>
</div>
</div>
<div id="importando-planilha-via-interface-gráfica" class="section level3">
<h3><span class="header-section-number">2.1.4</span> Importando planilha via interface gráfica:</h3>
<p>Para importar a planilha com os dados via interface do RStudio devemos acessar a guia <em>Environment</em> e nesta acessar a opção <em>Import Dataset</em> a seguir temos várias opções a qual devemos escolher referente a extensão do arquivo que vamos importar, no nosso caso será a opção <em>From Excel</em> (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:import-graf">2.6</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:import-graf"></span>
<img src="figures%20print/import-graf.png" alt="Tópicos para importação ddos dados pela via grafica." width="80%" />
<p class="caption">
Figura 2.6: Tópicos para importação ddos dados pela via grafica.
</p>
</div>
<p>Neste momento uma janela irá abrir (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:import-graf-2">2.7</a>) e no canto superior direito haverá o nome <em>Browse</em> onde deveremos clicar e escolher o arquivo com o qual iremos trabalhar. Em <em>Import options</em> no canto inferior esquerdo haverá algumas opções, na opção <em>name</em> deveremos renomear para dados, para coincidir com as vias que fizemos anteriormente. As demais opções podemos deixar em branco. Repare que no canto inferior direito aparecerá um comando relativo ao processo de importação similar ao que fizemos no tópico anterior e, aparecerá também, um comando chamado <span style="color: blue;">View()</span> que veremos mais adiante, para desabilita-lo basta desmarcar a caixa ao lado de mesmo nome. Conclua o processo clicando em <em>import</em> no canto inferior direito.</p>
<div class="figure" style="text-align: center"><span id="fig:import-graf-2"></span>
<img src="figures%20print/import-graf-2.png" alt="Importação dos dados pela via gráfica" width="80%" />
<p class="caption">
Figura 2.7: Importação dos dados pela via gráfica
</p>
</div>
</div>
</div>
<div id="passo-verificar-e-ajustar-os-dados" class="section level2">
<h2><span class="header-section-number">2.2</span> 2° passo: Verificar e ajustar os dados</h2>
<p>Uma falha inicial comum é passar para as análises antes de verificar se os dados estão corretamente organizados, após a importação. Uma forma de previnir isso é conhecendo os seus dados e sabendo o que eles significam. Os dados, geralmente, podem ser: categóricos (ou qualitativos) ou mensuráveis (ou quantitativos). Quando categóricos temos de informar que eles consistem em fatores. Para isso vamos executar alguns comandos onde poderemos avaliar se no processo de importação as variáveis presentes na planilha de dados são reconhecidas como esperamos que seja.</p>
<p>Ao executarmos a função <span style="color: blue;">str()</span> do arquivo <strong>dados</strong> podemos ver no console o seguinte resultado</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">str</span>(dados)</a></code></pre></div>
<pre><code>## tibble[,4] [40 × 4] (S3: tbl_df/tbl/data.frame)
##  $ ano        : num [1:40] 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 ...
##  $ local      : chr [1:40] &quot;Ambiente 1&quot; &quot;Ambiente 1&quot; &quot;Ambiente 1&quot; &quot;Ambiente 1&quot; ...
##  $ comprimento: num [1:40] 10 11 15 12 17 14 19 16 15 12 ...
##  $ peso       : num [1:40] 20 21 24 24 23 28 26 25 21 22 ...</code></pre>
<p>Seu resultado nos informa sobre o tipo de objeto que o arquivo é. Todo objeto pertence a alguma classe neste caso nosso objeto e da classe <em>tibble</em> ou <em>data frame</em><a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a>.</p>
<p>Também nos é mostrado as variáveis presentes na planilha <strong>dados</strong> (ano, local, comprimento e peso), cada variável é, também, um objeto e portanto tem suas classes definidas automaticamente, o que pode ser visualizado ao lado de cada variável.</p>
<p>num = <em>numeric</em> (númerico), chr = <em>character</em> (caracter) e há outras que não estão indicadas aqui, como <em>logic</em> (lógica), <em>integer</em> (inteiro), <em>factor</em> (fator) entre outros.</p>
<p>Repare que a variável ano foi indicada como numérico. Variáveis consideradas numéricas são aquelas as quais foram mensuradas. Ano, embora númerica, não é uma variável possível de ser medida, porém devido ao seu registro ter sido em valores numéricos foi assim que ela foi entendida. Portanto temos que transforma-la.</p>
<p>Pensando no que definimos acima com variáveis categóricas e mensuráveis, ano e local podem ser classificados como variáveis categóricas. Devemos transformar em fator todas as variáveis de nossas planilha consideradas categóricas. Para isso utilizamos a função <span style="color: blue;">as.factor()</span> a qual realiza esse processo que pode ser feito da seguinte forma:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">dados<span class="op">$</span>ano &lt;-<span class="st"> </span><span class="kw">as.factor</span>(dados<span class="op">$</span>ano)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">dados<span class="op">$</span>local &lt;-<span class="st"> </span><span class="kw">as.factor</span>(dados<span class="op">$</span>local)</a></code></pre></div>
<p>Repare que nesses comandos inserimos o operador “<strong>$</strong>” (cifrão). Esse é um operador importante em toda linguagem de programação e será bastante utilizado. Ele permite acessar alguma variável dentro de um objeto. Pensando no objeto <strong>dados</strong>, ao colocarmos seu nome e em seguida o operador “<strong>$</strong>” podemos acessar as variáveis dentro dele.</p>
<p>O comando portanto é lido da seguinte forma:</p>
<ol style="list-style-type: decimal">
<li>dados$ano &lt;-: indica que uma variável ano será criada dentro do objeto <strong>dados</strong>.</li>
<li>as.factor(dados$ano): indica que o objeto criado consistirá na variável ano que está no objeto dados porém considerando-a como factor.</li>
</ol>
<p>Uma dúvida que pode aparecer aqui é: O que aconteceu com a variável ano que já existia dentro da planilha dados? Temos duas variáveis ano, agora?</p>
<p>A resposta é que quando criamos um objeto ou variável com o mesmo nome de um já existente o anterior é substituído. Conduza o seguinte exemplo.</p>
<p>Crie o objeto <strong>idade</strong> que contenha o valor de 30.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">idade &lt;-<span class="st"> </span><span class="dv">30</span></a></code></pre></div>
<p>Repare o objeto idade criado no <em>environment</em>.</p>
<p>Agora crie e execute um segundo objeto de mesmo nome, porém valor diferente, e repare no <em>enviroment</em>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">idade &lt;-<span class="st"> </span><span class="dv">40</span></a></code></pre></div>
<p>Reparou que ao criar um segundo objeto de mesmo nome que antes o primeiro foi apagado e substituído pelo segundo? Este é o mesmo processo que ocorreu quando realizamos a função que definiu ano e local como fatores dentro do objeto <strong>dados</strong>.</p>
<p>Vamos observar novamente a função <span style="color: blue;">str()</span> para verificar se ano e locais, agora, são fatores</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">str</span>(dados)</a></code></pre></div>
<pre><code>## tibble[,4] [40 × 4] (S3: tbl_df/tbl/data.frame)
##  $ ano        : Factor w/ 2 levels &quot;2020&quot;,&quot;2021&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ local      : Factor w/ 2 levels &quot;Ambiente 1&quot;,&quot;Ambiente 2&quot;: 1 1 1 1 1 1 1 1 1 1 ...
##  $ comprimento: num [1:40] 10 11 15 12 17 14 19 16 15 12 ...
##  $ peso       : num [1:40] 20 21 24 24 23 28 26 25 21 22 ...</code></pre>
<p>Como pode verificar agora temos 2 variáveis como fatores e 2 como numéricas. Mais que isso, essa função nos indica ao lado dos fatores um <em>w/2 levels</em> que está nos dizendo que essa variável tem 2 níveis. De maneira similar, as variáveis numéricas indicam colchetes com os seguintes valores [1:40] que significa que temos 40 valores/observações/linhas.</p>
<p>Observe a planilha dados no environment. Note que ao lado do nome dados há escrito <strong>40obs. of 4 variables</strong>. Isto indica que temos 40 observações e 4 variáveis.</p>
<p>Que tal agora observarmos nossa planilha? Podemos fazer isso por meio da execução função <span style="color: blue;">head()</span> do nosso objeto (<strong>dados</strong>). Onde no console são mostradas as primeiras linhas de nossa planilha</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">head</span>(dados)</a></code></pre></div>
<pre><code>## # A tibble: 6 x 4
##   ano   local      comprimento  peso
##   &lt;fct&gt; &lt;fct&gt;            &lt;dbl&gt; &lt;dbl&gt;
## 1 2020  Ambiente 1          10    20
## 2 2020  Ambiente 1          11    21
## 3 2020  Ambiente 1          15    24
## 4 2020  Ambiente 1          12    24
## 5 2020  Ambiente 1          17    23
## 6 2020  Ambiente 1          14    28</code></pre>
<p>Outra maneira é executarmos a função <span style="color: blue;">View()</span> que abre uma aba, ao lado de seu script mostrando todos os dados.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">View</span>(dados)</a></code></pre></div>
<p>Experimente agora escrever o nome do objeto <strong>dados</strong> e executar, o que aparece? Experimente, também, clicar no nome do objeto <strong>dados</strong>, presente no <em>environment</em>. O que você observou?</p>
<p>Se no primeiro caso você observou seu objeto aparecendo no console, parabéns você está indo no caminho certo. Se no segundo momento você observou que ao clicar sobre o nome dados ele executou a mesma coisa que a função <span style="color: blue;">View()</span> você está indo maravilhosamente bem. Continue assim!</p>
<p>Isto não é tudo, mas sim o necessário para começarmos a sumarizar os dados de maneira eficiente.</p>
<p>Não se esqueça que antes de trabalharmos nossos dados temos que entender o que eles são e a que eles se referem. A análise de dados sem prévio conhecimento sobre o que eles significam pode levar a interpretações errôneas, caso as análises realizadas indiquem algum resultado, ou a muita dor de cabeça, se algum comando para uma análise não funcionar como esperado.</p>
<p>Portanto sigam os passos precisamente, não pule etapas e busque diversificar a fonte do seu conhecimento. Pois o R é uma linguagem que como demonstramos até o momento há muitas vias possíveis de escrita para um mesmo objetivo e diferentes autores podem escrever de formas diferentes.</p>
</div>
<div id="passo-sumarizar-os-dados-graficamente" class="section level2">
<h2><span class="header-section-number">2.3</span> 3° passo: Sumarizar os dados graficamente</h2>
<p>Já importamos nossa planilha e já a ajustamos. Que tal começarmos a ver a “mágica” acontecer e graficarmos nossos dados?</p>
<p>Muitos gráficos podem ser realizados, mas lembre-se que há toda uma lógica por trás disso.</p>
<p>Pensando nos gráficos mais comuns e úteis para nosso dia-a-dia e que nos permitem sumarizar nossos dados, temos os histogramas, gráficos de barras, de pontos, de linhas e os boxplots. Vamos então começar com esses e com o objetivo inicial de sumarizar nossos dados.</p>
<div id="histograma" class="section level3">
<h3><span class="header-section-number">2.3.1</span> Histograma</h3>
<p>O histograma nos permite verificar a distribuição da frequência dos nossos dados. Por exemplo, imagine uma amostra com diversos indivíduos de um dado grupo. Caso queiramos representar as frequências relativas das diferentes faixas de peso deste grupo, podemos usar o histograma.</p>
<p>A função <span style="color: blue;">hist()</span> permite visualizar os valores da variável comprimento (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:comp-hist">2.8</a>). Vejamos o exemplo abaixo.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="kw">hist</span>(dados<span class="op">$</span>comprimento)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:comp-hist"></span>
<img src="livroR-1.0_files/figure-html/comp-hist-1.png" alt="Comprimento dos organismos da planilha dados" width="70%" />
<p class="caption">
Figura 2.8: Comprimento dos organismos da planilha dados
</p>
</div>
<p>Repare que um gráfico foi gerado na sua janela lateral, na guia plots.</p>
<p>Perceba também que voltamos a usar o operador “<strong>$</strong>” (cifrão).</p>
<p>Nosso gráfico não está com uma aparência muito agradável além de estar um pouco sem cor. Podemos editar e melhorar o aspecto do gráfico ao inserir cores ou outros argumentos estéticos que melhoram sua visualização e entender como ele sumariza nossos dados.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">hist</span>(dados<span class="op">$</span>comprimento, </a>
<a class="sourceLine" id="cb15-2" data-line-number="2">     <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">10</span>), </a>
<a class="sourceLine" id="cb15-3" data-line-number="3">     <span class="dt">xlim =</span> <span class="kw">c</span>(<span class="dv">9</span>, <span class="dv">20</span>), </a>
<a class="sourceLine" id="cb15-4" data-line-number="4">     <span class="dt">col =</span> <span class="st">&quot;blue&quot;</span>,</a>
<a class="sourceLine" id="cb15-5" data-line-number="5">     <span class="dt">main =</span> <span class="st">&quot;Meu Histograma&quot;</span>,</a>
<a class="sourceLine" id="cb15-6" data-line-number="6">     <span class="dt">xlab =</span> <span class="st">&quot;Comprimento&quot;</span>,</a>
<a class="sourceLine" id="cb15-7" data-line-number="7">     <span class="dt">ylab =</span> <span class="st">&quot;Frequência absoluta&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:comp-hist-col"></span>
<img src="livroR-1.0_files/figure-html/comp-hist-col-1.png" alt="Comprimento dos organismos da planilha dados com barras coloridas" width="70%" />
<p class="caption">
Figura 2.9: Comprimento dos organismos da planilha dados com barras coloridas
</p>
</div>
<p>Temos aqui o histograma (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:comp-hist-col">2.9</a>) com alguns argumentos que permitiram melhorar sua visualização. Agora é possível observar a variável comprimento e sua frequência de ocorrência.</p>
<p>Além disso podemos observar por meio desse que o valor mínimo observado é 10, que o máximo é 19 e que as frequências das diferentes classes de comprimento formadas variam entre 0 e aproximadamente 9. Será que isto que observamos está correto? Vamos ver no tópico a seguir (4° passo: Sumarizar os dados numericamente).</p>
<p>Ainda em relação ao histograma é possível ver na função <span style="color: blue;">hist()</span> que utilizamos diversos argumentos como: “xlim”, “ylim”, “col”, “<em>main</em>”, “xlab” e “ylab”, além de uma função chamada <span style="color: blue;">c()</span>.</p>
<ul>
<li>xlim: define os limites do eixo x;</li>
<li>ylim: define os limites do eixo y;</li>
<li>col: define as cores de preenchimento das barras;</li>
<li>xlab: define o nome do eixo x;</li>
<li>ylab: define o nome do eixo y;</li>
<li><span style="color: blue;">c()</span>: concatena (une) valores;</li>
</ul>
<p><span style="color: red;">OBS: Essa função</span> <span style="color: blue;">c()</span> <span style="color: red;">é muito importante e será utilizada constantemente ao longo de seu trajeto no R.</span></p>
</div>
<div id="gráfico-de-barras" class="section level3">
<h3><span class="header-section-number">2.3.2</span> Gráfico de Barras</h3>
<p>O gráfico de barras é um dos mais utilizados. Com ele podemos comparar valores de categorias diferentes. Por exemplo, dados onde temos números de indivíduos de diversas espécies podem ser representados em gráficos de barras, onde cada espécie será representada por uma barra.</p>
<p>Se já chegamos até esse ponto vamos exercitar um pouco antes de plotar o gráfico de barras. Construa a seguinte planilha no seu editor de planilhas (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:abundancia">2.10</a>) e nomeie-a de <strong>abundancia</strong>.</p>
<div class="figure" style="text-align: center"><span id="fig:abundancia"></span>
<img src="figures%20print/abundancia.png" alt="Planilha de dados de abundância." width="40%" />
<p class="caption">
Figura 2.10: Planilha de dados de abundância.
</p>
</div>
<p>Acesse a planilha abundância. Vamos inseri-la no R com o nome <strong>abundancia</strong>. repare que retirei o acento e as letras estão em minúsculo. Sempre que trabalharmos com linguagem de programação evite acentuações, espaços, cedilhas (ç) e atente a maiúsculas e minúsculas, pois isso pode interferir no seu código</p>
<p><span style="color: red;">OBS: Se estiver iniciando o R agora lembre-se de definir o ambiente de trabalho.</span></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1">abundancia &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;abundancia.xlsx&quot;</span>, <span class="dt">col_names =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>Repare que ela está no formato *.xlsx e apresenta as seguintes variáveis: mes, N e desvio. Onde N significa o número de indivíduos observados e desvio o desvio padrão.</p>
<p>Vamos apenas conferir se está tudo certo com os dados usando a função <span style="color: blue;">str()</span>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">str</span>(abundancia)</a></code></pre></div>
<pre><code>## tibble[,3] [12 × 3] (S3: tbl_df/tbl/data.frame)
##  $ mes   : num [1:12] 1 2 3 4 5 6 7 8 9 10 ...
##  $ N     : num [1:12] 100 70 50 30 35 40 60 90 110 150 ...
##  $ desvio: num [1:12] 10 12 11 8 8 14 11 9 12 15 ...</code></pre>
<p>Vamos converter a variável mês em factor.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1">abundancia<span class="op">$</span>mes &lt;-<span class="st"> </span><span class="kw">as.factor</span>(abundancia<span class="op">$</span>mes)</a></code></pre></div>
<p>Repare que agora que sabemos os passos a realizar, da importação dos arquivos até este momento tudo ficou muito mais fácil e fluido e apenas realizamos três etapas, sendo uma delas apenas para conferir os dados.</p>
<p>Seguimos então para o gráfico de barras (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:bar-abu">2.11</a>), a fim de mostrar o número de indivíduos ao longo dos meses. Para isso utilizaremos a função <span style="color: blue;">barplot()</span>.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">barplot</span>(abundancia<span class="op">$</span>N)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bar-abu"></span>
<img src="livroR-1.0_files/figure-html/bar-abu-1.png" alt="Gráfico de barras com número de indivíduos da planilha abundância por mês" width="70%" />
<p class="caption">
Figura 2.11: Gráfico de barras com número de indivíduos da planilha abundância por mês
</p>
</div>
<p>Assim como o histograma, o simples uso da função sem argumentos gera um gráfico de difícil análise e esteticamente não muito agradável.</p>
<p>Vamos portanto adicionar alguns argumentos já conhecidos e outros novos que permitirão a melhor análise do gráfico (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:bar-abu-col">2.12</a>).</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="kw">barplot</span>(abundancia<span class="op">$</span>N,</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">        <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">200</span>),</a>
<a class="sourceLine" id="cb21-3" data-line-number="3">        <span class="dt">xlab =</span> <span class="st">&quot;Mês&quot;,</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="st">        ylab = &quot;</span>Abundância<span class="st">&quot;,</span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5"><span class="st">        names.arg = abundancia$mes,</span></a>
<a class="sourceLine" id="cb21-6" data-line-number="6"><span class="st">        col = &quot;</span>green<span class="st">&quot;)</span></a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bar-abu-col"></span>
<img src="livroR-1.0_files/figure-html/bar-abu-col-1.png" alt="Gráfico de barras com número de indivíduos da planilha abundância por mês, com barras coloridas" width="70%" />
<p class="caption">
Figura 2.12: Gráfico de barras com número de indivíduos da planilha abundância por mês, com barras coloridas
</p>
</div>
<p>No código acima definimos o que será graficado, como a variável N presente no objeto abundância e informamos isso por meio do operador “<strong>$</strong>” (cifrão). Ajustamos os limites do eixo “y” através do argumento “ylim” em 0 e 200, usando a função concatenar <span style="color: blue;">c()</span>. Definimos os nomes dos eixos x e y por meio dos argumentos “xlab” e “ylab”, respectivamente. Definimos o nome das barras de acordo com a variável mes, também presente no objeto <strong>abundancia</strong> e por último definimos a cor das barras, usando o argumento “col”, como verde.</p>
<p>Podemos extrair desse gráfico que a abundância dos indivíduos variam ao longo dos meses com valores menores em torno de 50 indivíduos nos meses 4, 5 e 6 e valores maiores em torno de 200 indivíduos no mês 11.</p>
</div>
<div id="gráfico-de-pontos-e-de-linhas" class="section level3">
<h3><span class="header-section-number">2.3.3</span> Gráfico de Pontos e de Linhas</h3>
<p>Quando queremos representar dados quantitativos em ambos os eixos, podemos usar tanto o gráfico de pontos quanto o de linhas. Com eles geralmente podemos verificar a relação entre as variáveis (gráfico de pontos) ou a tendência dos nossos dados em ordem cronológica (gráfico de linhas). Por exemplo, podemos representar num gráfico de linhas a variação da quantidade de indivíduos de uma espécie ao longo do ano ou os valores de precipitação ao longo de décadas.</p>
<p>Para fazer um gráfico seja de pontos ou de linhas pelo comando básico do R (utilizamos a função <span style="color: blue;">plot()</span>) precisamos indicar que ambos os eixos apresentam variáveis numéricas. Portanto teremos que modificar a variável mês de fator para número. Porém não precisamos fazer isso em um comando separado podemos aplicar a função que converte uma variável em numérica dentro da função que plota o gráfico. Vamos visualizar como isso ocorre na prática (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:pon-graf">2.13</a>).</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="kw">plot</span>(<span class="dt">x =</span> <span class="kw">as.numeric</span>(abundancia<span class="op">$</span>mes), <span class="dt">y =</span> abundancia<span class="op">$</span>N)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:pon-graf"></span>
<img src="livroR-1.0_files/figure-html/pon-graf-1.png" alt="Representação gráfica do número de indivíduos por mês em pontos" width="70%" />
<p class="caption">
Figura 2.13: Representação gráfica do número de indivíduos por mês em pontos
</p>
</div>
<p>Pronto, na função acima aplicamos a função <span style="color: blue;">plot()</span> indicando os argumentos x e y que definem quem estará no eixo x e quem estará no eixo y, e para a variável que estará no eixo x (variável mês) adicionamos a função <span style="color: blue;">as.numeric()</span>, a qual a converte em numérico apenas para a execução do plot.</p>
<p>Porém a função <span style="color: blue;">plot()</span> não realizou um gráfico de linhas como esperado, pois para isso precisamos indica-lo por meio de argumentos. Como demonstraremos a seguir (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:lin-graf-col">2.14</a>).</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="kw">plot</span>(<span class="dt">x =</span> <span class="kw">as.numeric</span>(abundancia<span class="op">$</span>mes), </a>
<a class="sourceLine" id="cb23-2" data-line-number="2">     <span class="dt">y =</span> abundancia<span class="op">$</span>N, </a>
<a class="sourceLine" id="cb23-3" data-line-number="3">     <span class="dt">xlab =</span> <span class="st">&quot;Mês&quot;,</span></a>
<a class="sourceLine" id="cb23-4" data-line-number="4"><span class="st">     ylab = &quot;</span>Abundância<span class="st">&quot;,</span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5"><span class="st">     main = &quot;</span>Meu gráfico de linha<span class="st">&quot;,</span></a>
<a class="sourceLine" id="cb23-6" data-line-number="6"><span class="st">     ylim = c(0, 200),</span></a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="st">     type = &quot;</span>l<span class="st">&quot;,</span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8"><span class="st">     col = &quot;</span>green<span class="st">&quot;,</span></a>
<a class="sourceLine" id="cb23-9" data-line-number="9"><span class="st">     lwd = 2)</span></a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:lin-graf-col"></span>
<img src="livroR-1.0_files/figure-html/lin-graf-col-1.png" alt="Representação gráfica do número de indivíduos por mês em um gráfico de linhas" width="70%" />
<p class="caption">
Figura 2.14: Representação gráfica do número de indivíduos por mês em um gráfico de linhas
</p>
</div>
<p>Repare que inserimos alguns argumentos novos:</p>
<ul>
<li>main: que insere o título do gráfico;</li>
<li>type: que define que será um gráfico de linhas;</li>
<li>lwd: que determina a espessura da linha;</li>
</ul>
</div>
<div id="boxplot" class="section level3">
<h3><span class="header-section-number">2.3.4</span> Boxplot</h3>
<p>Podemos usar os bloxplots para verificar a tendência das amostras e a distribuição destas. Quando se tem uma pequena quantidade de amostras (por exemplo, 3 réplicas) esse gráfico não é indicado. Nele também podemos verificar se temos alguma anomalia nos dados, os chamados <em>outliers</em>.</p>
<p>Vamos voltar a nossa primeira planilha <strong>dados</strong> e executar um gráfico do tipo boxplot (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:box-graf">2.15</a>) e ver o que ele nos informa. Para isso utilizaremos a função <span style="color: blue;">boxplot()</span>.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="kw">boxplot</span>(<span class="dt">formula =</span> dados<span class="op">$</span>comprimento <span class="op">~</span><span class="st"> </span>dados<span class="op">$</span>ano)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:box-graf"></span>
<img src="livroR-1.0_files/figure-html/box-graf-1.png" alt="Gráfico tipo boxplot do comprimento por ano, da planilha dados" width="70%" />
<p class="caption">
Figura 2.15: Gráfico tipo boxplot do comprimento por ano, da planilha dados
</p>
</div>
<p>Repare que a escrita para esse gráfico é ligeiramente diferente. Dentro desta função há um argumento chamado “fórmula”, onde inserimos a variável independente (variável do eixo X) e a variável dependente (variável do eixo Y). Entre ambas as variáveis há o caracter “~” (til). A forma de ler essa escrita é a seguinte: Realize um boxplot da variável comprimento do objeto <strong>dados</strong> em função da variável ano do objeto <strong>dados</strong>. O caracter til é lido como (“em função de”)</p>
<p>Vamos adicionar alguns argumentos que permitem deixar o gráfico mais apresentável (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:box-graf-col">2.16</a>).</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">boxplot</span>(<span class="dt">formula =</span> dados<span class="op">$</span>comprimento <span class="op">~</span><span class="st"> </span>dados<span class="op">$</span>ano,</a>
<a class="sourceLine" id="cb25-2" data-line-number="2">        <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>),</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">        <span class="dt">xlab =</span> <span class="st">&quot;Ano&quot;</span>,</a>
<a class="sourceLine" id="cb25-4" data-line-number="4">        <span class="dt">ylab =</span> <span class="st">&quot;Comprimento&quot;</span>,</a>
<a class="sourceLine" id="cb25-5" data-line-number="5">        <span class="dt">main =</span> <span class="st">&quot;Meu Boxplot&quot;</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:box-graf-col"></span>
<img src="livroR-1.0_files/figure-html/box-graf-col-1.png" alt="Gráfico tipo boxplot do comprimento por ano com cores por ano, da planilha dados" width="70%" />
<p class="caption">
Figura 2.16: Gráfico tipo boxplot do comprimento por ano com cores por ano, da planilha dados
</p>
</div>
<p>Repare que não adicionamos nenhum argumento ou função diferente do que já fizemos anteriormente. Ou seja, uma vez conhecendo a função, os argumentos por vezes se repetem entre funções com o mesmo objetivo (neste caso o objetivo é gerar um gráfico).</p>
<p>O boxplot porém nos fornece algumas informações extras em relação ao resumo dos dados. Podemos extrair dele dados como média, mediana (segundo quartil), primeiro e terceiro quartil, assim como máximos e mínimos da variável dependente (variável do eixo y).</p>
<p>As linhas de cada <em>box</em> (caixa) que se referem a cada um dos anos representam, em suas extremidades, os valores máximos e mínimos de comprimento de cada ano. A base e o topo de cada <em>box</em> indicam o primeiro e terceiro quartil, respectivamente, do comprimento do referido ano. A linha no interior da caixa indica a mediana (segundo quartil) e a metade do <em>box</em> (não marcada graficamente) indica a média.</p>
<p>Podemos por meio desse gráfico, então, ter uma ideia do que os dados indicam quanto as medidas de tendência central e algumas medidas de dispersão em relação as categorias presentes.</p>
</div>
</div>
<div id="passo-sumarizar-os-dados-numericamente" class="section level2">
<h2><span class="header-section-number">2.4</span> 4° passo: Sumarizar os dados numericamente</h2>
<p>Temos visto, até este ponto, como resumir os dados graficamente, de maeira geral.</p>
<p>Porém muitas vezes precisamos demonstrar, numericamente, quais são os valores que resumem os nosso dados. Estes valores consistem nas medidas de tendência central e nas suas medidas de dispersão.</p>
<p>O R permite, de maneira simples, sumarizar os dados por meio da função <span style="color: blue;">summary()</span>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">summary</span>(dados)</a></code></pre></div>
<pre><code>##    ano            local     comprimento         peso      
##  2020:20   Ambiente 1:15   Min.   :10.00   Min.   :18.00  
##  2021:20   Ambiente 2:25   1st Qu.:12.00   1st Qu.:20.00  
##                            Median :14.00   Median :21.50  
##                            Mean   :13.97   Mean   :21.73  
##                            3rd Qu.:15.00   3rd Qu.:23.00  
##                            Max.   :19.00   Max.   :28.00</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="kw">summary</span>(abundancia)</a></code></pre></div>
<pre><code>##       mes          N              desvio     
##  1      :1   Min.   : 30.00   Min.   : 8.00  
##  2      :1   1st Qu.: 47.50   1st Qu.: 9.75  
##  3      :1   Median : 80.00   Median :11.50  
##  4      :1   Mean   : 88.75   Mean   :11.75  
##  5      :1   3rd Qu.:120.00   3rd Qu.:14.00  
##  6      :1   Max.   :180.00   Max.   :17.00  
##  (Other):6</code></pre>
<p>Repare que ao aplicarmos esta função o R nos informou as variáveis presentes nestas planilhas e quando fator indicou quais são e quantos de cada existem. Quando númerico, nos retornou valores como média, mediana (segundo quartil), mínimo, máximo, primeiro e terceiro quartis.</p>
<p>As medidas de tendência central mais conhecidas e aplicadas são média, mediana e moda.</p>
<p>Para obtenção da média precisamos somar todos os valores e dividir pela quantidade de valores ou, no R, podemos fazer isso de maneira mais simples por meio da função <span style="color: blue;">mean()</span>:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="kw">mean</span>(dados<span class="op">$</span>comprimento)</a></code></pre></div>
<pre><code>## [1] 13.975</code></pre>
<p>Como podemos verificar a média do comprimento na planilha dados é de 13,975<a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a>.</p>
<p>De maneira similar podemos calcular a mediana, que consiste no valor central da distribuição de valores de uma dada variável. Podemos visualiza-la por meio da função <span style="color: blue;">median()</span>.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="kw">median</span>(dados<span class="op">$</span>comprimento)</a></code></pre></div>
<pre><code>## [1] 14</code></pre>
<p>Percebe-se que o valor que se encontra no meio da distribuição da variável comprimento é 14.</p>
<p>Até o momento aprendemos a explorar e sumarizar nossos dados graficamente. Visualizamos também a função <span style="color: blue;">summary()</span> aplicada aos dados, que nos indica as medidas de tendência central média e mediana assim como outras características das variáveis como os quartis, mínimo e máximo. Essas medidas apresentadas tem como função indicar as características gerais das variáveis com as quais você está trabalhando. Porém há outras medidas que explicam os dados que são constantemente requeridas.</p>
<p>Medidas de dispersão indicam a propagação dos dados em torno do valor central, ou seja, são utilizadas para demonstrar a variabilidade dos dados. Quando as medidas se concentrarem em torno do centro de distribuição dos dados (baixa dispersão), quer dizer que possuem baixa variabilidade. Quando os dados apresentam uma distribuição mais ampla em torno do seu valor central (alta dispersão), significa que apresentam uma alta variabilidade.</p>
<p>Os limites inferior e superior de uma dada variável quantitativa são denominados mínimo e máximo e podem ser obtidos por meio das funções que calculam o mínimo e máximo. Apesar de seu resultado aparecer na função <span style="color: blue;">summary()</span>, que aplicamos anteriormente, podemos obtê-la separadamente para uma variável especifica. Para isso aplicamos as funções <span style="color: blue;">min()</span> e/ou <span style="color: blue;">max()</span>.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw">min</span>(dados<span class="op">$</span>comprimento)</a></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="kw">max</span>(dados<span class="op">$</span>comprimento)</a></code></pre></div>
<pre><code>## [1] 19</code></pre>
<p>Uma outra forma de obter os valores máximo e mínimo é usando a função <span style="color: blue;">range()</span>.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="kw">range</span>(dados<span class="op">$</span>comprimento)</a></code></pre></div>
<pre><code>## [1] 10 19</code></pre>
<p>Novamente repare que usamos o operador cifrão (<strong>$</strong>) após o nome do conjunto de dados. Como você aprendeu anteriormente ele permite acessar as variáveis que estão dentro do objeto dados.</p>
<p>Com os valores mínimo e máximo podemos obter nossa primeira medida de dispersão dos dados. A amplitude que consiste na diferença entre seus valores. Esta é a forma mais simples de verificar a dispersão de seus dados. A vantagem dela é fornecer a distância na qual seus dados variam mantendo-se a mesma unidade de medida.</p>
<p>A amplitude é utilizada para dados quantitativos, descrever a variabilidade de uma amostra, porém não para inferência estatística. Podemos calcula-la simplesmente utilizando a substração das funções que nos retornam seus valores. Veja o exemplo abaixo.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">max</span>(dados<span class="op">$</span>comprimento) <span class="op">-</span><span class="st"> </span><span class="kw">min</span>(dados<span class="op">$</span>comprimento)</a></code></pre></div>
<pre><code>## [1] 9</code></pre>
<p>Uma outra forma de realizar esta mesma operação é utilizando a função <span style="color: blue;">diff()</span> que calcula a diferença. Quando inserimos a função <span style="color: blue;">range()</span> dentro da função <span style="color: blue;">diff()</span> o R nos retorna o resultado da diferença dos valores obtidos pela função <span style="color: blue;">range()</span>. Veja o exemplo abaixo.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw">diff</span>(<span class="kw">range</span>(dados<span class="op">$</span>comprimento))</a></code></pre></div>
<pre><code>## [1] 9</code></pre>
<p>O desvio padrão é uma das medidas de variação mais importantes que iremos realizar. Ele mede a distância dos valores observados em relação a sua média.</p>
<p>Durante a coleta de dados em estudos ambientais, o que normalmente é extraído de informação é uma fração de um todo, por exemplo, uma amostra de uma população. Portanto quando se deseja avaliar o desvio padrão, assim como outras medidas de variabilidade, devemos considerar se estamos avaliando uma amostra ou toda a população. Se uma amostra é considerada, nos referimos a ela como desvio padrão amostral e a representamos por (s) se toda a população é considerada nos referimos a ela como desvio padrão populacional e a representamos por (<span class="math inline">\(\sigma\)</span>).</p>
<p>Neste livro vamos abordar e considerar o desvio padrão amostral.</p>
<p>Para calcular o desvio padrão utilizamos a seguinte fórmula:</p>
<p><span class="math display">\[s = \sqrt{\sum^{N}_{i = 1}\frac{(x_{i}-\overline{x})²}{N-1}}\]</span></p>
<p>Onde, <span class="math inline">\(\sum^{N}_{i=1}\)</span> indica o somatório da expressão <span class="math inline">\(\frac{(x_{i}-\overline{x})²}{N-1}\)</span> para <span class="math inline">\(i\)</span> variando de 1 até o número total de elementos <span class="math inline">\(N\)</span>. <span class="math inline">\(x_{i}\)</span> indica o valor medido da variável <span class="math inline">\(x\)</span>, <span class="math inline">\(\overline{x}\)</span> indica a média da variável <span class="math inline">\(x\)</span> e <span class="math inline">\(N\)</span> indica o número total de elementos da variável <span class="math inline">\(x\)</span>.</p>
<p>Podemos calcular o desvio padrão a partir de suas partes, considerando sua fórmula ou a partir de uma função pré-existente no R. Vamos conferir as duas formas.</p>
<p>Para facilitar o entendimento do código vamos começar criando os seguintes objetos: <strong>comp</strong>, <strong>com.media</strong> e <strong>N</strong>.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1">comp &lt;-<span class="st"> </span>dados<span class="op">$</span>comprimento</a>
<a class="sourceLine" id="cb44-2" data-line-number="2">comp.media &lt;-<span class="st"> </span><span class="kw">mean</span>(dados<span class="op">$</span>comprimento)</a>
<a class="sourceLine" id="cb44-3" data-line-number="3">N &lt;-<span class="st"> </span><span class="kw">length</span>(dados<span class="op">$</span>comprimento)</a>
<a class="sourceLine" id="cb44-4" data-line-number="4"></a>
<a class="sourceLine" id="cb44-5" data-line-number="5">comp</a></code></pre></div>
<pre><code>##  [1] 10 11 15 12 17 14 19 16 15 12 14 15 12 12 14 13 12 11 14 14 13 12 11 15 12
## [26] 14 13 12 11 15 15 17 16 17 15 16 15 16 15 17</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1">comp.media</a></code></pre></div>
<pre><code>## [1] 13.975</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1">N</a></code></pre></div>
<pre><code>## [1] 40</code></pre>
<ul>
<li>comp: contêm os dados da variável comprimento presente na planilha dados</li>
<li>comp.media: contêm um dado que consiste na média da variável comprimento</li>
<li>N: representa a quantidade de observações presentes na variável comprimento. Repare que aqui utilizamos uma nova função chamada <span style="color: blue;">length()</span> a qual contabiliza o número de observações de objeto.</li>
</ul>
<p>Agora vamos realizar o desvio padrão de 3 formass. Onde na primeira vamos entender como lemos uma função. O ideal é ler de dentro para fora. Como uma equação matemática. Mas não se assuste é mais fácil do que parece. Nas outras 2 maneiras vamos aplicar uma função pre-existente no R.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="kw">sqrt</span>((<span class="kw">sum</span>((comp <span class="op">-</span><span class="st"> </span>comp.media)<span class="op">^</span><span class="dv">2</span>)) <span class="op">/</span><span class="st"> </span>(N <span class="op">-</span><span class="st"> </span><span class="dv">1</span>))</a></code></pre></div>
<pre><code>## [1] 2.106005</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="kw">sd</span>(dados<span class="op">$</span>comprimento)</a></code></pre></div>
<pre><code>## [1] 2.106005</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="kw">sd</span>(comp)</a></code></pre></div>
<pre><code>## [1] 2.106005</code></pre>
<p>A leitura da primeira dá-se da seguinte forma:</p>
<ol style="list-style-type: decimal">
<li>(comp - comp.media): Realize a diferença dos valores presentes em comp de sua média.</li>
<li>((comp - comp.media)^2): Eleve esses valores, obtidos da diferença, ao quadrado.</li>
<li>(sum((comp - comp.media)^2)): Some todos os valores, obtidos pela diferença elevados ao quadrado.</li>
<li>(sum((comp - comp.media)^2)) / (N - 1): Divide a soma dos valores da diferença elevado ao quadrado pelo número de observações menos 1.</li>
<li>sqrt((sum((comp - comp.media)^2)) / (N - 1)): Extraia a raíz quadrada da divisão da soma dos valores da diferença elevado ao quadrado pelo número de observações menos 1.</li>
</ol>
<p>Repare que a leitura segue a ordem dos passos do cálculo que seria feito a mão usando a equação apresentada acima.</p>
<p>Mas caso não queira escrever a fórmula, o R nos fornece a função <span style="color: blue;">sd()</span> que pode ser aplicada a uma variável dentro de uma planilha de dados (segunda forma apresentada) ou a um vetor que contenha um conjunto de observações do seu interesse (terceira forma apresentada).</p>
<p>Pronto, agora entendemos como ler um código que apresenta funções dentro de funções e entendemos como realizar o desvio padrão de três formas distintas (existem diversas outras formas) no R. Agora você já pode escolher a que mais lhe agrada. Qual você prefere? Bem, essa é uma escolha sua.</p>
<p>Assim como o desvio padrão temos também a variância. Na variância, calculamos o grau de dispersão dos nossos dados em relação à média desses dados. Há todo um conjunto especial de análise de dados voltado para ela. Mas como poderão ver, ela não difere muito do desvio padrão, apenas pelo fato de que consiste no seu valor elevado ao quadrado, daí a variância amostral ser representada por s² enquanto que o desvio padrão é representado por s.</p>
<p>Partindo dessa ideia, a variância consiste em estimar o desvio padrão e eleva-lo ao quadrado (ou removermos a raíz quadrada da fórmula do desvio padrão). Vamos observar o seu resultado utilizando sua fórmula e a função predefinida pelo R.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1">(<span class="kw">sum</span>((comp <span class="op">-</span><span class="st"> </span>comp.media)<span class="op">^</span><span class="dv">2</span>)) <span class="op">/</span><span class="st"> </span>(N <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)</a></code></pre></div>
<pre><code>## [1] 4.435256</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="kw">sd</span>(dados<span class="op">$</span>comprimento)<span class="op">^</span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 4.435256</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="kw">var</span>(dados<span class="op">$</span>comprimento)</a></code></pre></div>
<pre><code>## [1] 4.435256</code></pre>
<p>Pronto, aqui estão 3 formas de encontrar a variância de seus dados. A primeira é similar ao que realizamos anteriormente para o desvio padrão, porém sem a raíz quadrada. A segunda consiste em elevar ao quadrado o resultado do desvio padrão e a terceira é aplicando a função <span style="color: blue;">var()</span> à variável comprimento presente na planilha dados.</p>
<p>Difícil? Espero que não.</p>
<p>O coeficiente de variação é outra medida importante e de fácil interpretação sobre a variabilidade dos dados. Este consiste em representar a variação em torno da média em termos percentuais. Este é simples de calcular e intuitivo de interpretar.</p>
<p>Não há, até o momento, uma função no pacote básico do R que o calcule. Vamos calcula-lo a partir de sua fórmula matemática e ver o que ele quer dizer.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="kw">sd</span>(dados<span class="op">$</span>comprimento)<span class="op">/</span><span class="kw">mean</span>(dados<span class="op">$</span>comprimento)<span class="op">*</span><span class="dv">100</span></a></code></pre></div>
<pre><code>## [1] 15.0698</code></pre>
<p>Pronto, calculamos o coeficiente de variação da variável comprimento e obtivemos uma variação em torno da média de ±15,07%.</p>
<p>Com isso verificamos as principais medidas de tendência central e dispersão. Mas fica, aqui, uma questão. Como incorpora-las aos gráficos para que assim possamos resumir os dados graficamente de maneira mais completa?</p>
<p>Vamos utilizar nossa planilha dados e verificar a média do comprimento e do peso por ano e por ambiente e incorporar em cada um dos gráficos seus respectivos desvios padrões.</p>
<p>Neste caso vamos primeiro precisar organizar os dados que queremos plotar. Como desejamos plotar a média do comprimento por ano e ambiente com seus respectivos desvios padrões, vamos primeiro construir passo a passo uma tabela que apresente 4 colunas. A primeira com o ano, a segunda com ambiente, a terceira com a média do comprimento e a última com o desvio padrão.</p>
<p>Para isso vamos utilizar a função <span style="color: blue;">split()</span>, que fragmenta um <em>data frame</em> em função de algum fator. Neste primeiro momento, vamos fragmentar o objeto <strong>dados</strong> em função do ano e alocar esses dois novos conjuntos de dados em um novo objeto chamado <strong>dados.2</strong>. Posteriormente vamos criar um objeto chamado <strong>ano.2020</strong> onde vamos alocar o primeiro objeto (referente ao ano de 2020) que está dentro de <strong>dados.2</strong> e um segundo objeto chamado <strong>ano.2021</strong> onde vamos alocar o segundo objeto (referente ao ano de 2021) que está dentro de <strong>dados.2</strong>. Veja os comandos abaixo.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1">dados<span class="fl">.2</span> &lt;-<span class="st"> </span><span class="kw">split</span>(<span class="dt">x =</span> dados, <span class="dt">f =</span> dados<span class="op">$</span>ano)</a>
<a class="sourceLine" id="cb64-2" data-line-number="2">ano<span class="fl">.2020</span> &lt;-<span class="st"> </span>dados<span class="fl">.2</span><span class="op">$</span><span class="st">`</span><span class="dt">2020</span><span class="st">`</span></a>
<a class="sourceLine" id="cb64-3" data-line-number="3">ano<span class="fl">.2021</span> &lt;-<span class="st"> </span>dados<span class="fl">.2</span><span class="op">$</span><span class="st">`</span><span class="dt">2021</span><span class="st">`</span></a></code></pre></div>
<p>Repare que foram criados no environment três novos objetos: <strong>dados.2</strong> o qual consiste em um objeto da classe lista que contêm o objeto <strong>dados</strong> separado por ano; <strong>ano.2020</strong> que consiste no objeto da classe <em>data frame</em> (mesma classe do objeto <strong>dados</strong>) que contêm as informações referentes, somente ao ano de 2020; e o objeto <strong>ano.2021</strong>, similar ao anterior, porém com as informações referentes ao ano de 2021.</p>
<p>A seguir vamos aplicar o mesmo racíocinio lógico para fragmentar os objetos <strong>ano.2020</strong> e <strong>ano.2021</strong> por locais.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1">ano.<span class="fl">2020.</span>local &lt;-<span class="st"> </span><span class="kw">split</span>(<span class="dt">x =</span> ano<span class="fl">.2020</span>, <span class="dt">f =</span> ano<span class="fl">.2020</span><span class="op">$</span>local)</a>
<a class="sourceLine" id="cb65-2" data-line-number="2">ano.<span class="fl">2021.</span>local &lt;-<span class="st"> </span><span class="kw">split</span>(<span class="dt">x =</span> ano<span class="fl">.2021</span>, <span class="dt">f =</span> ano<span class="fl">.2021</span><span class="op">$</span>local)</a>
<a class="sourceLine" id="cb65-3" data-line-number="3">ano.<span class="fl">2020.</span>local<span class="fl">.1</span> &lt;-<span class="st"> </span>ano.<span class="fl">2020.</span>local<span class="op">$</span><span class="st">`</span><span class="dt">Ambiente 1</span><span class="st">`</span></a>
<a class="sourceLine" id="cb65-4" data-line-number="4">ano.<span class="fl">2020.</span>local<span class="fl">.2</span> &lt;-<span class="st"> </span>ano.<span class="fl">2020.</span>local<span class="op">$</span><span class="st">`</span><span class="dt">Ambiente 2</span><span class="st">`</span></a>
<a class="sourceLine" id="cb65-5" data-line-number="5">ano.<span class="fl">2021.</span>local<span class="fl">.1</span> &lt;-<span class="st"> </span>ano.<span class="fl">2021.</span>local<span class="op">$</span><span class="st">`</span><span class="dt">Ambiente 1</span><span class="st">`</span></a>
<a class="sourceLine" id="cb65-6" data-line-number="6">ano.<span class="fl">2021.</span>local<span class="fl">.2</span> &lt;-<span class="st"> </span>ano.<span class="fl">2021.</span>local<span class="op">$</span><span class="st">`</span><span class="dt">Ambiente 2</span><span class="st">`</span></a></code></pre></div>
<p>Pronto! Dividimos nossos dados de acordo com os fatores que desejamos (ano e local) utilizando o argumento “f” da função <span style="color: blue;">split()</span>. Agora vamos obter as métricas média e desvio padrão para cada ano de cada local. Para isso vamos criar novos objetos que alocam esses dados.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1">ano.<span class="fl">2020.</span>local.<span class="fl">1.</span>comp.media &lt;-<span class="st"> </span><span class="kw">mean</span>(ano.<span class="fl">2020.</span>local<span class="fl">.1</span><span class="op">$</span>comprimento)</a>
<a class="sourceLine" id="cb66-2" data-line-number="2">ano.<span class="fl">2020.</span>local.<span class="fl">1.</span>comp.dp &lt;-<span class="st"> </span><span class="kw">sd</span>(ano.<span class="fl">2020.</span>local<span class="fl">.1</span><span class="op">$</span>comprimento)</a>
<a class="sourceLine" id="cb66-3" data-line-number="3">ano.<span class="fl">2020.</span>local.<span class="fl">2.</span>comp.media &lt;-<span class="st"> </span><span class="kw">mean</span>(ano.<span class="fl">2020.</span>local<span class="fl">.2</span><span class="op">$</span>comprimento)</a>
<a class="sourceLine" id="cb66-4" data-line-number="4">ano.<span class="fl">2020.</span>local.<span class="fl">2.</span>comp.dp &lt;-<span class="st"> </span><span class="kw">sd</span>(ano.<span class="fl">2020.</span>local<span class="fl">.2</span><span class="op">$</span>comprimento)</a>
<a class="sourceLine" id="cb66-5" data-line-number="5">ano.<span class="fl">2021.</span>local.<span class="fl">1.</span>comp.media &lt;-<span class="st"> </span><span class="kw">mean</span>(ano.<span class="fl">2021.</span>local<span class="fl">.1</span><span class="op">$</span>comprimento)</a>
<a class="sourceLine" id="cb66-6" data-line-number="6">ano.<span class="fl">2021.</span>local.<span class="fl">1.</span>comp.dp &lt;-<span class="st"> </span><span class="kw">sd</span>(ano.<span class="fl">2021.</span>local<span class="fl">.1</span><span class="op">$</span>comprimento)</a>
<a class="sourceLine" id="cb66-7" data-line-number="7">ano.<span class="fl">2021.</span>local.<span class="fl">2.</span>comp.media &lt;-<span class="st"> </span><span class="kw">mean</span>(ano.<span class="fl">2021.</span>local<span class="fl">.2</span><span class="op">$</span>comprimento)</a>
<a class="sourceLine" id="cb66-8" data-line-number="8">ano.<span class="fl">2021.</span>local.<span class="fl">2.</span>comp.dp &lt;-<span class="st"> </span><span class="kw">sd</span>(ano.<span class="fl">2021.</span>local<span class="fl">.2</span><span class="op">$</span>comprimento)</a></code></pre></div>
<p>Pronto! Média e desvio padrão do comprimento calculado para cada ano e local e alocados em seus respectivos objetos. Agora vamos unir esses resultados, por meio da função <span style="color: blue;">c()</span> em um objeto com os dados referentes a média <strong>dados.media</strong> e um outro com o desvio padrão <strong>dados.dp</strong>.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1">dados.media &lt;-<span class="st"> </span><span class="kw">c</span>(ano.<span class="fl">2020.</span>local.<span class="fl">1.</span>comp.media,</a>
<a class="sourceLine" id="cb67-2" data-line-number="2">                 ano.<span class="fl">2020.</span>local.<span class="fl">2.</span>comp.media,</a>
<a class="sourceLine" id="cb67-3" data-line-number="3">                 ano.<span class="fl">2021.</span>local.<span class="fl">1.</span>comp.media,</a>
<a class="sourceLine" id="cb67-4" data-line-number="4">                 ano.<span class="fl">2021.</span>local.<span class="fl">2.</span>comp.media)</a>
<a class="sourceLine" id="cb67-5" data-line-number="5">dados.dp &lt;-<span class="st"> </span><span class="kw">c</span>(ano.<span class="fl">2020.</span>local.<span class="fl">1.</span>comp.dp,</a>
<a class="sourceLine" id="cb67-6" data-line-number="6">              ano.<span class="fl">2020.</span>local.<span class="fl">2.</span>comp.dp,</a>
<a class="sourceLine" id="cb67-7" data-line-number="7">              ano.<span class="fl">2021.</span>local.<span class="fl">1.</span>comp.dp,</a>
<a class="sourceLine" id="cb67-8" data-line-number="8">              ano.<span class="fl">2021.</span>local.<span class="fl">2.</span>comp.dp)</a></code></pre></div>
<p>Agora, vamos criar as variáveis categóricas ano e local para adicionar aos dados de médias e desvios e unir esses objetos em um <em>data frame</em> chamado <strong>dados.3</strong>. Posteriormente vamos conferir as classes das variáveis.</p>
<p>Para isso durante este processo utilizaremos duas funções que não haviamos utilizado antes. As funções <span style="color: blue;">as.data.frame()</span> que faz com que um conjunto de objetos sejam convertidos em <em>data frame</em> e <span style="color: blue;">cbind()</span> o qual une objetos como colunas. Essas funções também serão comumente utilizadas durante seus passos iniciais no R.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1">ano &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;2020&quot;</span>, <span class="st">&quot;2020&quot;</span>, <span class="st">&quot;2021&quot;</span>, <span class="st">&quot;2021&quot;</span>)</a>
<a class="sourceLine" id="cb68-2" data-line-number="2">local &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Ambiente 1&quot;</span>, <span class="st">&quot;Ambiente 2&quot;</span>, <span class="st">&quot;Ambiente 1&quot;</span>, <span class="st">&quot;Ambiente 2&quot;</span>)</a>
<a class="sourceLine" id="cb68-3" data-line-number="3">dados<span class="fl">.3</span> &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">cbind</span>(ano, local, dados.media, dados.dp))</a>
<a class="sourceLine" id="cb68-4" data-line-number="4"><span class="kw">str</span>(dados<span class="fl">.3</span>)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    4 obs. of  4 variables:
##  $ ano        : chr  &quot;2020&quot; &quot;2020&quot; &quot;2021&quot; &quot;2021&quot;
##  $ local      : chr  &quot;Ambiente 1&quot; &quot;Ambiente 2&quot; &quot;Ambiente 1&quot; &quot;Ambiente 2&quot;
##  $ dados.media: chr  &quot;14.1&quot; &quot;13.1&quot; &quot;13&quot; &quot;14.8&quot;
##  $ dados.dp   : chr  &quot;2.84604989415154&quot; &quot;1.28668393770792&quot; &quot;1.58113883008419&quot; &quot;1.93464651625488&quot;</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1">dados<span class="fl">.3</span><span class="op">$</span>ano &lt;-<span class="st"> </span><span class="kw">as.factor</span>(dados<span class="fl">.3</span><span class="op">$</span>ano)</a>
<a class="sourceLine" id="cb70-2" data-line-number="2">dados<span class="fl">.3</span><span class="op">$</span>local &lt;-<span class="st"> </span><span class="kw">as.factor</span>(dados<span class="fl">.3</span><span class="op">$</span>local)</a>
<a class="sourceLine" id="cb70-3" data-line-number="3">dados<span class="fl">.3</span><span class="op">$</span>dados.media &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(dados<span class="fl">.3</span><span class="op">$</span>dados.media)</a>
<a class="sourceLine" id="cb70-4" data-line-number="4">dados<span class="fl">.3</span><span class="op">$</span>dados.dp &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(dados<span class="fl">.3</span><span class="op">$</span>dados.dp)</a></code></pre></div>
<p>Vejamos nosso resultado final executando o nome do nosso objeto <strong>dados.3</strong>.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1">dados<span class="fl">.3</span></a></code></pre></div>
<pre><code>##    ano      local dados.media dados.dp
## 1 2020 Ambiente 1        14.1 2.846050
## 2 2020 Ambiente 2        13.1 1.286684
## 3 2021 Ambiente 1        13.0 1.581139
## 4 2021 Ambiente 2        14.8 1.934647</code></pre>
<p>Pronto! depois de alguns (muitos) passos conseguimos construir nossa nova tabela com os dados resumidos.</p>
<p>É um processo longo porém necessário para se acostumar com o ambiente de trabalho e a linguagem R. Há caminhos mais rápidos e tão eficientes quanto. Que se tornam úteis quando lidamos com muitas categorias dentro de uma variável. Contudo para isso é necessário a instalação de algum pacote (Há vários pacotes que apresentam funções que permitem a realização deste processo de maneira mais rápida e eficiente). Vamos utilizar um exemplo começando pela instalação do pacote chamado <span style="color: brown;">Rmisc</span>.</p>
<p>O comando abaixo realiza a instalação desse pacote. Conforme já fizemos com o pacote <span style="color: brown;">readxl</span>.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;Rmisc&quot;</span>)</a></code></pre></div>
<p>Após instalado vamos carrega-lo pelo comando a seguir. Conforme já fizemos com o pacote <span style="color: brown;">readxl</span>.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1"><span class="kw">library</span>(Rmisc)</a></code></pre></div>
<p>Agora vamos conhecer a função <span style="color: blue;">summarySE()</span> deste pacote o qual realiza os passos que fizemos anteriormente e ainda apresenta outros resultados. Mas iremos focar na média e desvio padrão.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1">resultado &lt;-<span class="st"> </span><span class="kw">summarySE</span>(<span class="dt">data =</span> dados, </a>
<a class="sourceLine" id="cb75-2" data-line-number="2">                       <span class="dt">measurevar =</span> <span class="st">&quot;comprimento&quot;</span>, </a>
<a class="sourceLine" id="cb75-3" data-line-number="3">                       <span class="dt">groupvars =</span> <span class="kw">c</span>(<span class="st">&quot;ano&quot;</span>, <span class="st">&quot;local&quot;</span>))</a>
<a class="sourceLine" id="cb75-4" data-line-number="4">resultado</a></code></pre></div>
<pre><code>##    ano      local  N comprimento       sd        se        ci
## 1 2020 Ambiente 1 10        14.1 2.846050 0.9000000 2.0359414
## 2 2020 Ambiente 2 10        13.1 1.286684 0.4068852 0.9204382
## 3 2021 Ambiente 1  5        13.0 1.581139 0.7071068 1.9632432
## 4 2021 Ambiente 2 15        14.8 1.934647 0.4995236 1.0713715</code></pre>
<p>Repare que a função <span style="color: blue;">summarySE()</span> apresenta, basicamente, 3 argumentos, “data” que pede que se insira a planilha a ser utilizada, “measurevar” o qual pede a variável quantitativa que será sumarizada e “groupvars” o qual pede as variáveis categóricas<a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a> segundo as quais a variável mensurável será agrupada. Observe também que para esta função as variáveis devem ser colocadas entre aspas.</p>
<p>Pronto! Com a função <span style="color: blue;">summarySE()</span> realizamos os mesmos passos que antes e guardamos o resultado dentro de um objeto chamado <strong>resultado</strong>. Repare que essa função nos resumiu os dados de comprimento de acordo com as duas variáveis categóricas que indicamos: ano e local. Em seu resumo ele nos forneceu, na seguinte ordem, as colunas: ano, local, N (número de observações), comprimento (média do comprimento), sd (desvio padrão), se (erro padrão) e ci (intervalo de confiança de 95%).</p>
<p><span style="color: red;">OBS: Este é um exemplo sobre a vantagem e importância de usar funções que estão presentes em outros pacotes.</span></p>
<p>Agora vamos usar o objeto <strong>resultado</strong> para desenvolver o gráfico de barras com o erro padrão (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:bar-ep">2.17</a>). Porém para este caso, teremos que guardar nosso gráfico dentro de algum objeto, neste caso chamamos o objeto de <strong>grafico</strong>. Após o gráfico ser criado devemos utilizar a função <span style="color: blue;">arrows()</span> que nos permite adicionar as barras de desvio padrão no nosso gráfico.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1">grafico &lt;-<span class="st"> </span><span class="kw">barplot</span>(<span class="dt">formula =</span> comprimento <span class="op">~</span><span class="st"> </span>ano <span class="op">+</span><span class="st"> </span>local,</a>
<a class="sourceLine" id="cb77-2" data-line-number="2">                   <span class="dt">data =</span> resultado,</a>
<a class="sourceLine" id="cb77-3" data-line-number="3">                   <span class="dt">beside =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb77-4" data-line-number="4">                   <span class="dt">col =</span> <span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>),</a>
<a class="sourceLine" id="cb77-5" data-line-number="5">                   <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">30</span>),</a>
<a class="sourceLine" id="cb77-6" data-line-number="6">                   <span class="dt">ylab =</span> <span class="st">&quot;Comprimento médio (cm)&quot;</span>,</a>
<a class="sourceLine" id="cb77-7" data-line-number="7">                   <span class="dt">legend.text =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb77-8" data-line-number="8"><span class="kw">arrows</span>(<span class="dt">x0 =</span> grafico,</a>
<a class="sourceLine" id="cb77-9" data-line-number="9">       <span class="dt">y0 =</span> resultado<span class="op">$</span>comprimento <span class="op">+</span><span class="st"> </span>resultado<span class="op">$</span>sd,</a>
<a class="sourceLine" id="cb77-10" data-line-number="10">       <span class="dt">y1 =</span> resultado<span class="op">$</span>comprimento <span class="op">-</span><span class="st"> </span>resultado<span class="op">$</span>sd,</a>
<a class="sourceLine" id="cb77-11" data-line-number="11">       <span class="dt">code =</span> <span class="dv">3</span>,</a>
<a class="sourceLine" id="cb77-12" data-line-number="12">       <span class="dt">angle =</span> <span class="dv">90</span>,</a>
<a class="sourceLine" id="cb77-13" data-line-number="13">       <span class="dt">length =</span> <span class="fl">0.05</span>)</a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bar-ep"></span>
<img src="livroR-1.0_files/figure-html/bar-ep-1.png" alt="Gráfico de barras com erro padrão do comprimento por ano e local, da planilha resultado (derivada da planilha dados)" width="70%" />
<p class="caption">
Figura 2.17: Gráfico de barras com erro padrão do comprimento por ano e local, da planilha resultado (derivada da planilha dados)
</p>
</div>
<p>Note que na função <span style="color: blue;">barplot()</span> utilizamos algumas mudanças em relação ao que fizemos anteriormente, como os argumentos “formula”<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a> o qual indica a variável resposta em função das variáveis categóricas o qual será plotado (caso altere a ordem ano + local para local + ano a ordem do gráfico também será alterado. Teste você mesmo, veja o acontece). Neste caso, como temos mais de uma variável categórica adicionamos um argumento novo chamado “legend.text” o qual adiciona uma legenda ao gráfico.</p>
<p>A função <span style="color: blue;">arrows()</span> que adicionou as barras de desvios no gráfico apresenta alguns argumentos diferentes do que já vimos em outros gráficos.</p>
<ul>
<li>x0: o qual indica o objeto onde o gráfico foi armazenado;</li>
<li>y0: o qual é escrito como uma operação matemática onde devemos incluir o valor da média + coluna onde está a variável referente ao desvio;</li>
<li>y1: o qual é escrito como uma operação matemática onde devemos incluir o valor da média - coluna onde está a variável referente ao desvio;</li>
<li>code: determina o tipo de seta que será plotada;</li>
<li>angle: é o ângulo da haste da barra até a ponta;</li>
<li>length: é o comprimento das bordas da barra;</li>
</ul>
<p>Terminamos de construir e entender os componentes do nosso primeiro gráfico com suas barras de erro.</p>
<p>O principal para construção desse gráfico consiste em entender como organizar os dados a serem graficados. Ao se usar a função <span style="color: blue;">barplot()</span> para construção do gráfico de barras com os desvios, devemos ter uma ou mais colunas com as categorias, outra com os valores que desejamos e outra com os valores dos desvios.</p>
<p>Vamos realizar um segundo tipo de gráfico onde temos apenas uma variável categórica e seus respectivos desvios. Para isso utilizaremos nosso conjunto de dados abundancia (lembre-se que mes é uma variável categórica e deve ser identificada como fator) (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:bar-ep-abu">2.18</a>).</p>
<p>Neste conjunto de dados não precisamos reorganiza-los pois já se encontram organizados e já temos os valores dos desvios.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1">grafico &lt;-<span class="st"> </span><span class="kw">barplot</span>(abundancia<span class="op">$</span>N,</a>
<a class="sourceLine" id="cb78-2" data-line-number="2">                   <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">200</span>),</a>
<a class="sourceLine" id="cb78-3" data-line-number="3">                   <span class="dt">xlab =</span> <span class="st">&quot;Mês&quot;,</span></a>
<a class="sourceLine" id="cb78-4" data-line-number="4"><span class="st">                   ylab = &quot;</span>Abundância<span class="st">&quot;,</span></a>
<a class="sourceLine" id="cb78-5" data-line-number="5"><span class="st">                   names.arg = abundancia$mes,</span></a>
<a class="sourceLine" id="cb78-6" data-line-number="6"><span class="st">                   col = &quot;</span>green<span class="st">&quot;)</span></a>
<a class="sourceLine" id="cb78-7" data-line-number="7"><span class="st">arrows(x0 = grafico,</span></a>
<a class="sourceLine" id="cb78-8" data-line-number="8"><span class="st">       y0 = abundancia$N + abundancia$desvio,</span></a>
<a class="sourceLine" id="cb78-9" data-line-number="9"><span class="st">       y1 = abundancia$N - abundancia$desvio,</span></a>
<a class="sourceLine" id="cb78-10" data-line-number="10"><span class="st">       code = 3,</span></a>
<a class="sourceLine" id="cb78-11" data-line-number="11"><span class="st">       angle = 90,</span></a>
<a class="sourceLine" id="cb78-12" data-line-number="12"><span class="st">       length = 0.05)</span></a></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:bar-ep-abu"></span>
<img src="livroR-1.0_files/figure-html/bar-ep-abu-1.png" alt="Gráfico de barras com erro padrão da abundância por mês da planilha abundância" width="70%" />
<p class="caption">
Figura 2.18: Gráfico de barras com erro padrão da abundância por mês da planilha abundância
</p>
</div>
<p>Repare que é a mesma coisa que fizemos anteriormente,porém com outro conjunto de dados.</p>
</div>
<div id="considerações" class="section level2">
<h2><span class="header-section-number">2.5</span> Considerações</h2>
<p>Ao longo dos tópicos abordados neste capítulo demonstramos as etapas mais importantes e de diversos modos para nossa trajetória inicial e necessária no R, desde a definição do ambiente de trabalho, passando pela importação da planilha de dados, verificação e ajuste dos dados e sua sumarização gráfica e numérica (Figura <a href="importar-organizar-e-sumarizar-os-dados.html#fig:resumo1">2.19</a>).</p>
<p>Durante nosso percurso neste livro realizaremos mais gráficos aliados as análises estatísticas básicas comumente utilizadas. Não se assuste com a quantidade de etapas, funções, argumentos e nomes, eles irão se repetir tantas e tantas vezes daqui em diante que você não esquecerá. O aprendizado do R é exponencial e ele lhe permitirá entender como nunca o universo da análise de dados adequando-o para seu campo de atuação.</p>
<div class="figure" style="text-align: center"><span id="fig:resumo1"></span>
<img src="figures%20print/resumo1.png" alt="Resumo dos passos abordados no capítulo: da definição do ambiente de trabalho até a sumarização dos dados." width="100%" />
<p class="caption">
Figura 2.19: Resumo dos passos abordados no capítulo: da definição do ambiente de trabalho até a sumarização dos dados.
</p>
</div>
</div>
<div id="exercícios-1" class="section level2">
<h2><span class="header-section-number">2.6</span> Exercícios</h2>
<ol style="list-style-type: decimal">
<li>Para iniciarmos nosso trabalho no R precisamos saber importar os dados com os quais iremos trabalhar. Porém alguns passos são fundamentais antes da importação. Qual das opções a seguir contêm as funções, em ordem, que contemplam esses passos.</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>setwd(); choose.dir(); as.factor() e readxl()</li>
<li>setwd(); choose.dir(); readxl()</li>
<li>library(); setwd(); choose.dir()</li>
<li>choose.dir(); setwd(); library()</li>
<li>choose.dir(); setwd()</li>
</ol>
<ol start="2" style="list-style-type: decimal">
<li>Ao importarmos nossos dados é importante saber a extensão em que os arquivos são encontrados (ex: *.csv ou *.xlsx). A função para importação dos dados é determinada pela extensão dos arquivos em que os dados se encontram. Qual as opções abaixo melhor apresenta os comandos responsáveis por importar um arquivo em *.csv e outro em *.xlsx?</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>read_csv(file = “dados.csv”, header = TRUE, sep = “,”); read.excel(path = “dados.xlsx”, col_names = TRUE)</li>
<li>read_csv(file = “planilha.csv”, header = TRUE, sep = “;”); read_excel(path = “planilha.xlsx”, col_names = TRUE)</li>
<li>read.csv(path = “planilha.csv”, header = TRUE, sep = “,”); read_excel(file = “planilha.xlsx”, col_names = TRUE)</li>
<li>read.csv(file = “dados.csv”, header = TRUE, sep = “;”); read_excel(path = “planilha.xlsx”, col_names = TRUE)</li>
<li>read.csv(file = “planilha.csv”, header = TRUE, sep = “,”); read.excel(path = “planilha.xlsx”, col_names = TRUE)</li>
</ol>
<ol start="3" style="list-style-type: decimal">
<li>Durante o processo de importação dos dados é necessário checar se todas as variáveis foram entendidas pelo R como elas devem ser (ex. se determinada variável foi identificada como fator ao invés de numérico ou caracter). Para isso algumas funções são importantes para checar e alterar se necessário. Qual das opções abaixo indica as funções que permitem checar e alterar as variáveis, se necessário.</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>checar: View(), summary(); alterar: as.factor(), as.numeric(), as.data.frame()</li>
<li>checar: View(), str(); alterar: as.factor(), as.numeric(), as.integer()</li>
<li>checar: str(), as.data.frame(); alterar: as.data.frame(), as.numeric(), as.caracter()</li>
<li>checar: str(), summary(); alterar: as.caracter(), as.factor(), as.numeric()</li>
<li>checar: View(), as.data.frame(); alterar: as.integer(), as.numeric(), as.factor()</li>
</ol>
<ol start="4" style="list-style-type: decimal">
<li>O R apresenta em alguns de seus pacotes conjuntos de dados que nos permitem fazer análises. Usando o conjunto de dados chamado <strong>iris</strong>, o qual pode ser carregado usando a função <span style="color: blue;">data()</span>. Qual das opções abaixo apresenta o comando para gerar o gráfico apresentado?
<img src="livroR-1.0_files/figure-html/unnamed-chunk-37-1.png" width="672" style="display: block; margin: auto;" /></li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>boxplot(Petal.Length,
Species,
data = iris,
col = c(“blue”, “red”, “yellow”),
xlab = “Espećies”,
ylab = “Comprimento da pétala”,
main = “Meu Gráfico”)</li>
<li>boxplot(Petal.Length ~ Species,
data = iris,
col = c(“blue”, “red”, “yellow”),
xlab = “Espécies”,
ylab = “Comprimento da pétala”,
main = “Meu Gráfico”)</li>
<li>boxplot(“Petal.Length” ~ “Species”,
data = “iris”,
col = c(“blue”, “red”, “yellow”),
xlab = “Espécies”,
ylab = “Comprimento da pétala”,
main = “Meu Gráfico”)</li>
<li>boxplot(Petal.Length ~ Species,
data = iris,
col = c(blue, red, yellow),
xlab = “Espécies”,
ylab = “Comprimento da pétala”,
main = “Meu Gráfico”)</li>
<li>boxplot(Petal.Length ~ Species,
data = iris,
col = c(“azul”, “vermelho”, “amarelo”),
xlab = “Espécies”,
ylab = “Comprimento da pétala”,
main = “Meu Gráfico”)</li>
</ol>
<ol start="5" style="list-style-type: decimal">
<li>Execute os seguintes comandos no seu R: set.seed(458); teste &lt;- rnorm(100, sd = 0.2). Qual das opções abaixo representam, na ordem, a média, mediana, desvio padrão, variância e amplitude destes dados.</li>
</ol>
<ol style="list-style-type: lower-alpha">
<li>0,01; 0,02; 0,12; 0,04; 1,24</li>
<li>0,02; 0,01; 0,21; 1,24; 0,04</li>
<li>0,02; 0,01; 0,21; 0,04; 1,24</li>
<li>0,01; 0,02; 0,12; 0,04; 1,24</li>
<li>0,02; 0,01; 0,31; 0,04; 1,20</li>
</ol>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="7">
<li id="fn7"><p>Ver figura <a href="r.html#fig:files">1.6</a><a href="importar-organizar-e-sumarizar-os-dados.html#fnref7" class="footnote-back">↩</a></p></li>
<li id="fn8"><p>Tudo que é realizado no R é por meio de comandos, esses comandos são compostos de funções, podemos reconhece-las pois logo após um nome que representa uma função obrigatoriamente há um parênteses e cada função apresenta argumentos, depois dos quais há o sinal de igual (=). As funções estão dentro de pacotes/bibliotecas, ou seja, cada biblioteca apresenta diversas funções e cada função diversos argumentos. O R, quando instalado, traz consigo alguns pacotes, mas estes pacotes não apresentam uma função que permite carregar arquivos *.xls ou *.xlsx. Portanto para que seja possível realizar essa tarefa devemos instalar, neste caso, o pacote readxl. Para instalação de pacotes podemos usar a função conhecida por install.packages(“nome do pacote”).<a href="importar-organizar-e-sumarizar-os-dados.html#fnref8" class="footnote-back">↩</a></p></li>
<li id="fn9"><p>tibble e data frame são, em termos práticos para o livro, objetos similares<a href="importar-organizar-e-sumarizar-os-dados.html#fnref9" class="footnote-back">↩</a></p></li>
<li id="fn10"><p>Aqui estamos representando como vírgula o separador decimal. Mas o R em seu resultado utiliza o ponto (.) como separador decimal. Pois por padrão ele está configurado para o sistema númerico inglês<a href="importar-organizar-e-sumarizar-os-dados.html#fnref10" class="footnote-back">↩</a></p></li>
<li id="fn11"><p>Repare que usamos a função concatenar <span style="color: blue;">c()</span> para agrupar as 2 variáveis categóricas de interesse.<a href="importar-organizar-e-sumarizar-os-dados.html#fnref11" class="footnote-back">↩</a></p></li>
<li id="fn12"><p>similar a função <span style="color: blue;">boxplot</span>.<a href="importar-organizar-e-sumarizar-os-dados.html#fnref12" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="qui-quadrado-chi.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["livroR-1.0.pdf", "livroR-1.0.docx", "livroR-1.0.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
